#N canvas 494 88 400 278 10;
#X obj 20 13 inlet~;
#X obj 107 113 list;
#N canvas 162 122 454 423 defaults 0;
#X obj 22 20 inlet;
#X obj 56 171 t a b;
#X obj 95 311 s \$0-startpos;
#X obj 22 141 list split 1;
#X obj 49 108 outlet;
#X obj 152 285 s \$0-duration;
#X obj 22 47 t a a;
#X obj 49 77 list split 1;
#X text 97 109 set table first \, otherwise samplelen not set;
#X text 148 201 defaults: start 0 \, dur 0==all;
#X msg 83 201 0 0;
#X obj 56 231 unpack 1 2;
#X obj 113 258 moses 0;
#X obj 56 285 moses 0;
#X obj 56 371 print s_recordtable;
#X msg 56 342 error: start must be >= 0;
#X msg 222 342 error: duration must be >= 0;
#X connect 0 0 6 0;
#X connect 1 0 11 0;
#X connect 1 1 10 0;
#X connect 3 1 1 0;
#X connect 6 0 3 0;
#X connect 6 1 7 0;
#X connect 7 0 4 0;
#X connect 10 0 11 0;
#X connect 11 0 13 0;
#X connect 11 1 12 0;
#X connect 12 0 16 0;
#X connect 12 1 5 0;
#X connect 13 0 15 0;
#X connect 13 1 2 0;
#X connect 15 0 14 0;
#X connect 16 0 14 0;
#X restore 107 140 pd defaults;
#N canvas 121 146 321 262 set 0;
#X obj 33 24 inlet;
#X obj 173 218 s \$0-samplelen;
#X obj 173 190 array size;
#X obj 173 105 t b a;
#X obj 230 163 symbol;
#X obj 230 136 list trim;
#X obj 52 105 list prepend set;
#X obj 52 134 list trim;
#X obj 33 63 t b a a;
#X obj 52 160 outlet;
#X obj 33 218 s \$0-reset;
#X connect 0 0 8 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 5 0;
#X connect 4 0 2 1;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 8 1 6 0;
#X connect 8 2 3 0;
#X restore 107 171 pd set table;
#X obj 164 72 t b a;
#N canvas 121 146 190 276 sr 0;
#X obj 32 29 inlet;
#X obj 32 89 route sr;
#X obj 32 59 list trim;
#X obj 77 119 outlet;
#X obj 32 219 s \$0-sr;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 1 1 3 0;
#X connect 2 0 1 0;
#X restore 244 42 pd sr;
#X obj 244 13 inlet;
#N canvas 529 89 434 339 write-sample 0;
#X msg 146 183 start \$1;
#X msg 256 154 stop;
#X obj 146 154 m_ms2sm;
#X obj 33 32 inlet~;
#X obj 94 32 inlet;
#X obj 33 292 tabwrite~;
#X obj 146 32 r \$0-startpos;
#X obj 331 32 r \$0-duration;
#X obj 272 123 r \$0-stop;
#X obj 211 292 outlet;
#X obj 256 292 outlet;
#X obj 256 183 t b a;
#X obj 146 63 t f f;
#X obj 185 123 r \$0-sr;
#N canvas 60 203 388 388 timer 0;
#X obj 29 53 inlet;
#X text 69 52 start;
#X obj 56 198 timer;
#X obj 95 276 pack f 0;
#X obj 95 334 outlet;
#X msg 95 305 \$2 \$1;
#X obj 262 334 outlet;
#X obj 56 222 moses 1;
#X obj 95 247 t f b;
#X msg 253 165 0;
#X obj 226 108 r \$0-reset;
#X obj 226 137 t b b;
#X obj 83 164 spigot 1;
#X msg 128 138 1;
#X msg 162 138 0;
#X obj 140 246 r \$0-startpos;
#X text 142 333 start duration;
#X obj 29 83 t b b;
#X obj 83 83 inlet;
#X text 127 82 stop;
#X text 18 15 record duration timer;
#X text 312 333 done;
#X text 108 221 ignore initial 0 0 clear;
#X connect 0 0 17 0;
#X connect 2 0 7 0;
#X connect 3 0 5 0;
#X connect 5 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 3 0;
#X connect 8 1 6 0;
#X connect 8 1 14 0;
#X connect 9 0 3 1;
#X connect 10 0 11 0;
#X connect 11 0 2 0;
#X connect 11 1 9 0;
#X connect 12 0 2 1;
#X connect 13 0 12 1;
#X connect 14 0 12 1;
#X connect 15 0 3 1;
#X connect 17 0 13 0;
#X connect 17 1 2 0;
#X connect 18 0 12 0;
#X restore 211 258 pd timer;
#X obj 146 92 t f b;
#N canvas 73 80 424 406 stop 0;
#X obj 43 65 inlet;
#X obj 261 327 delay;
#X msg 292 137 stop;
#X obj 195 104 t f b;
#X obj 195 135 moses 1;
#X obj 43 204 f;
#X obj 55 237 - 0;
#X obj 43 96 t b f;
#X obj 162 297 spigot;
#X obj 234 160 t b f;
#X msg 234 271 0;
#X msg 195 271 1;
#X obj 80 124 r \$0-samplelen;
#X obj 80 175 m_sm2ms;
#X obj 119 150 r \$0-sr;
#X obj 261 354 outlet;
#X text 80 65 start;
#X obj 195 67 inlet;
#X text 236 67 duration;
#X text 77 200 samplelen - start;
#X text 296 164 duration only;
#X text 17 21 stop after duration or end of table;
#X obj 292 105 r \$0-stop;
#X connect 0 0 7 0;
#X connect 1 0 15 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 2 0;
#X connect 4 0 11 0;
#X connect 4 1 9 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 5 0;
#X connect 7 1 6 1;
#X connect 8 0 1 0;
#X connect 9 0 10 0;
#X connect 9 1 1 0;
#X connect 10 0 8 1;
#X connect 11 0 8 1;
#X connect 12 0 13 0;
#X connect 13 0 5 1;
#X connect 14 0 13 1;
#X connect 17 0 3 0;
#X connect 22 0 2 0;
#X restore 256 92 pd stop delay;
#X obj 146 212 t a b;
#X connect 0 0 17 0;
#X connect 1 0 11 0;
#X connect 2 0 0 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 6 0 12 0;
#X connect 7 0 16 1;
#X connect 8 0 1 0;
#X connect 11 0 14 1;
#X connect 11 1 5 0;
#X connect 12 0 15 0;
#X connect 12 1 16 0;
#X connect 13 0 2 1;
#X connect 14 0 9 0;
#X connect 14 1 10 0;
#X connect 15 0 2 0;
#X connect 15 1 1 0;
#X connect 16 0 1 0;
#X connect 17 0 5 0;
#X connect 17 1 14 0;
#X restore 20 201 pd write-sample;
#X obj 241 190 r RJLIB;
#X obj 241 211 route sf-samplerate;
#X obj 241 232 s \$0-sr;
#X text 239 149 Allow global setting of soundfile samplerate, f 23;
#X obj 107 45 route bang;
#X obj 20 233 outlet;
#X obj 107 233 outlet;
#N canvas 0 25 171 183 stop 0;
#X obj 31 23 inlet;
#X obj 31 48 list trim;
#X obj 31 130 s \$0-stop;
#X msg 31 103 bang;
#X obj 31 74 route stop;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X restore 244 70 pd stop;
#X connect 0 0 7 0;
#X connect 0 1 12 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 7 1;
#X connect 4 0 1 0;
#X connect 4 1 1 1;
#X connect 5 0 15 0;
#X connect 6 0 5 0;
#X connect 7 0 13 0;
#X connect 7 1 14 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 12 0 1 0;
#X connect 12 1 4 0;
