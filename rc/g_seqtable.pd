#N canvas 390 324 490 274 10;
#X text 224 164 left : clock bangs;
#X text 41 136 right : notes \, note lists \, & controls msgs;
#X text 173 11 sequence table \, records a sequence of midi notes;
#X text 187 59 Creation args: seq length \, ms timeout;
#X obj 1 14 cnv 15 158 103 empty empty empty 20 12 0 14 -191407 -66577
0;
#X obj 5 26 cnv 15 150 90 empty empty empty 20 12 0 14 -261234 -66577
0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-notes 16 float 2;
#X coords 0 127 16 0 150 90 2 0 0;
#X restore 5 26 graph;
#N canvas 0 23 296 297 arg1 0;
#X obj 45 47 loadbang;
#X obj 45 74 f \$1;
#X obj 72 186 pack f f;
#X obj 117 160 f \$0;
#X obj 125 133 s \$0-size;
#X text 95 97 sequence size;
#X text 143 201 resize table;
#X text 40 25 INIT VALUES;
#X obj 45 98 sel 0;
#X obj 72 133 t f b;
#X msg 72 218 \; \$2-notes resize \$1 \;;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 2 0 10 0;
#X connect 3 0 2 1;
#X connect 8 1 4 0;
#X connect 8 1 9 0;
#X connect 9 0 2 0;
#X connect 9 1 3 0;
#X restore 260 93 pd arg1;
#N canvas 0 23 366 206 note 0;
#X obj 96 32 inlet;
#N canvas 621 66 513 657 combobulate 0;
#X obj 115 40 inlet;
#X obj 91 631 outlet;
#X obj 226 439 r \$0-size;
#X obj 196 553 r \$0-order;
#X obj 198 168 r \$0-flip;
#X text 17 13 mess with the incoming pitches;
#X text 203 117 flip the notes;
#X obj 115 102 spigot;
#X obj 148 74 r \$0-listen;
#X text 236 74 listen?;
#X text 244 465 build a list;
#X obj 172 528 r \$0-sort;
#X text 232 492 change LIFO to FIFO;
#X obj 177 311 timer;
#X msg 123 338 reset;
#X obj 177 278 sel 0 1;
#X obj 242 340 r \$0-timeout;
#X msg 123 398 bang;
#X msg 177 225 bang;
#X text 169 398 reset list if timeout reached between last note events
;
#X text 225 311 get duration between incoming notes;
#X text 228 225 check timeout;
#X obj 177 365 moses 1000;
#X msg 271 169 0;
#X obj 271 143 loadbang;
#X msg 301 553 0;
#X obj 301 527 loadbang;
#X obj 177 253 u_count 2;
#X obj 115 199 u_mux2;
#X obj 115 465 u_listlastx;
#X obj 115 493 u_listrev;
#X obj 115 553 u_listsort;
#X obj 91 584 u_mux2;
#X obj 145 134 m_noteflip;
#X connect 0 0 7 0;
#X connect 2 0 29 1;
#X connect 3 0 32 2;
#X connect 4 0 28 2;
#X connect 7 0 28 0;
#X connect 7 0 33 0;
#X connect 8 0 7 1;
#X connect 11 0 31 1;
#X connect 13 0 22 0;
#X connect 14 0 27 0;
#X connect 15 0 13 0;
#X connect 15 1 13 1;
#X connect 16 0 22 1;
#X connect 17 0 14 0;
#X connect 17 0 29 1;
#X connect 18 0 27 0;
#X connect 22 1 17 0;
#X connect 23 0 28 2;
#X connect 24 0 23 0;
#X connect 25 0 32 2;
#X connect 26 0 25 0;
#X connect 27 0 15 0;
#X connect 28 0 18 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 30 0 32 0;
#X connect 31 0 32 1;
#X connect 32 0 1 0;
#X connect 33 0 28 1;
#X restore 96 109 pd combobulate;
#N canvas 179 127 946 328 input 0;
#X obj 7 267 clip 0 127;
#X obj 93 118 s \$0-reset;
#X obj 572 199 s \$0-listen;
#X msg 533 138 1;
#X msg 173 120 0;
#X msg 213 120 -1;
#X obj 270 107 loadbang;
#X obj 213 201 s \$0-order;
#X obj 173 81 route asc dsc norm;
#X obj 362 180 s \$0-rev;
#X obj 444 181 s \$0-flip;
#X obj 492 108 loadbang;
#X obj 7 25 inlet;
#X obj 7 311 outlet;
#X obj 173 225 s \$0-sort;
#X text 112 24 HANDLE THE INPUTS;
#X text 86 268 clip bad floats;
#X text 52 196 split any lists;
#X obj 7 80 route float list reset;
#X obj 654 233 s \$0-timeout;
#X obj 654 125 loadbang;
#X obj 654 148 f \$2;
#X obj 654 171 sel 0;
#X msg 654 200 1000;
#X obj 727 155 \$0;
#X msg 727 182 \; \$1-notes const 0;
#X msg 727 127 bang;
#X msg 362 133 0;
#X msg 413 133 1;
#X msg 492 137 0;
#X msg 253 161 0;
#X msg 213 161 1;
#X obj 50 157 u_listdrip;
#X obj 26 217 route float;
#X obj 797 128 u_tabdump \$0-notes;
#X obj 797 156 outlet;
#X obj 362 82 route fwd back invert;
#X obj 572 82 route listen timeout clear dump;
#X connect 0 0 13 0;
#X connect 3 0 2 0;
#X connect 4 0 31 0;
#X connect 4 0 14 0;
#X connect 5 0 31 0;
#X connect 5 0 14 0;
#X connect 6 0 30 0;
#X connect 6 0 27 0;
#X connect 8 0 4 0;
#X connect 8 1 5 0;
#X connect 8 2 30 0;
#X connect 8 3 36 0;
#X connect 11 0 29 0;
#X connect 11 0 3 0;
#X connect 12 0 18 0;
#X connect 18 0 0 0;
#X connect 18 1 32 0;
#X connect 18 2 1 0;
#X connect 18 3 8 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 22 1 19 0;
#X connect 23 0 19 0;
#X connect 24 0 25 0;
#X connect 26 0 24 0;
#X connect 27 0 9 0;
#X connect 28 0 9 0;
#X connect 29 0 10 0;
#X connect 30 0 7 0;
#X connect 31 0 7 0;
#X connect 32 0 33 0;
#X connect 33 0 0 0;
#X connect 34 0 35 0;
#X connect 36 0 27 0;
#X connect 36 1 28 0;
#X connect 36 2 10 0;
#X connect 36 3 37 0;
#X connect 37 0 2 0;
#X connect 37 1 19 0;
#X connect 37 2 26 0;
#X connect 37 3 34 0;
#X restore 96 61 pd input;
#X text 167 61 handle input;
#X text 206 109 screw with notes;
#X text 24 86 MAIN;
#X text 233 143 write to table;
#X obj 96 141 u_tabset \$0-notes;
#X obj 141 85 outlet;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 2 0 1 0;
#X connect 2 1 8 0;
#X restore 46 190 pd note input;
#X obj 46 164 inlet;
#N canvas 0 23 388 373 playback 0;
#X obj 167 321 outlet;
#X obj 41 37 r \$0-reset;
#X obj 128 35 inlet;
#X obj 201 55 r \$0-size;
#X obj 185 152 abs;
#X obj 201 91 - 1;
#X obj 185 125 -;
#X obj 186 183 r \$0-rev;
#X text 39 105 PLAYBACK;
#X msg 41 62 reset;
#X obj 128 262 tabread \$0-notes;
#X msg 204 232 0;
#X obj 204 206 loadbang;
#X obj 128 91 u_count 16;
#X obj 128 232 u_mux2;
#X obj 128 290 moses 1;
#X text 181 289 filter out 0 notes;
#X connect 1 0 9 0;
#X connect 2 0 13 0;
#X connect 3 0 5 0;
#X connect 3 0 13 1;
#X connect 4 0 14 1;
#X connect 5 0 6 1;
#X connect 6 0 4 0;
#X connect 7 0 14 2;
#X connect 9 0 13 0;
#X connect 10 0 15 0;
#X connect 11 0 14 2;
#X connect 12 0 11 0;
#X connect 13 0 6 0;
#X connect 13 0 14 0;
#X connect 14 0 10 0;
#X connect 15 1 0 0;
#X restore 177 190 pd playback;
#X obj 177 162 inlet;
#X obj 89 220 outlet note;
#X obj 176 220 outlet dump;
#X text 296 221 Dan Wilcox 2005 \, 2016;
#X connect 8 0 13 0;
#X connect 9 0 8 0;
#X connect 10 0 12 0;
#X connect 11 0 10 0;
#X coords 0 -1 1 1 160 120 1 0 0;
